/*====================================================================================================*/
/*====================================================================================================*/
#include "drivers\stm32f3_system.h"
#include "drivers\stm32f3_tim_pwm.h"

#include "uMultimeter.h"
/*====================================================================================================*/
/*====================================================================================================*/
void System_Init( void )
{
  UM_Init();
  TIM_PWM_Config();
}

int main( void )
{
  uint8_t state = 0;
  uint32_t i = PWM_MIN;

  System_Init();

  while(1) {
    i = (state) ? (i - 10) : (i + 10);
    TIM_PWM_setDuty(i);
    if(i == PWM_MAX) { state = 1; delay_ms(500); }
    if(i == PWM_MIN) { state = 0; delay_ms(1500); }
    delay_ms(10);
  }
}
/*====================================================================================================*/
/*====================================================================================================*/
